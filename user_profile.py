# ========== 问题定义 ==========
questions = [
    {
        "id": 1,
        "question": "你更喜欢哪种类型的电影？",
        "options": {
            "A": ("动作/冒险", ["动作", "冒险"]),
            "B": ("喜剧/爱情", ["喜剧", "爱情"]),
            "C": ("科幻/奇幻", ["科幻", "奇幻"]),
            "D": ("悬疑/惊悚", ["悬疑", "惊悚"]),
            "E": ("剧情/文艺", ["剧情", "文艺"])
        }
    },
    {
        "id": 2,
        "question": "你更喜欢哪种氛围？",
        "options": {
            "A": ("轻松愉快", ["轻松", "愉快"]),
            "B": ("紧张刺激", ["紧张", "刺激"]),
            "C": ("黑暗压抑", ["黑暗", "压抑"]),
            "D": ("温暖治愈", ["温暖", "治愈"])
        }
    },
    {
        "id": 3,
        "question": "你更能接受的电影节奏是？",
        "options": {
            "A": ("快节奏", ["快节奏"]),
            "B": ("慢节奏", ["慢节奏"]),
            "C": ("中等节奏", ["中等节奏"])
        }
    },
    {
        "id": 4,
        "question": "你更倾向的风格是？",
        "options": {
            "A": ("好莱坞商业大片", ["好莱坞", "商业片"]),
            "B": ("独立电影/小众佳作", ["独立电影", "小众"]),
            "C": ("艺术电影/电影节获奖片", ["艺术片", "获奖片"])
        }
    },
    {
        "id": 5,
        "question": "你希望电影传递什么情绪？",
        "options": {
            "A": ("励志/积极", ["励志", "积极"]),
            "B": ("悲伤/催泪", ["悲伤", "催泪"]),
            "C": ("搞笑/欢乐", ["搞笑", "欢乐"]),
            "D": ("思考/哲理", ["思考", "哲理"])
        }
    },
    {
        "id": 7,
        "question": "你更喜欢的演员类型是？",
        "options": {
            "A": ("动作巨星", ["动作明星"]),
            "B": ("实力派演员", ["实力派演员"]),
            "C": ("偶像/颜值派", ["偶像演员"]),
            "D": ("不限演员", ["不限演员"])
        }
    },
    {
        "id": 8,
        "question": "你更喜欢哪个国家/地区的电影？",
        "options": {
            "A": ("美国", ["美国电影"]),
            "B": ("中国", ["中国电影"]),
            "C": ("日本", ["日本电影"]),
            "D": ("韩国", ["韩国电影"]),
            "E": ("欧洲", ["欧洲电影"])
        }
    },
    {
        "id": 9,
        "question": "你希望看的电影是？",
        "options": {
            "A": ("最新上映的", ["新片", "近期"]),
            "B": ("经典必看", ["经典", "老片"]),
            "C": ("冷门佳作", ["冷门佳作"])
        }
    },
    {
        "id": 10,
        "question": "你对电影的特殊偏好是？",
        "options": {
            "A": ("改编自真实故事", ["真实故事"]),
            "B": ("有反转剧情", ["反转"]),
            "C": ("视觉特效震撼", ["视觉特效"]),
            "D": ("音乐/配乐出色", ["音乐", "配乐"])
        }
    }
]

# ========== 模拟用户回答（可以改成 input 交互） ==========
user_answers = {
    1: "A",   # 动作/冒险
    2: "B",   # 紧张刺激
    3: "A",   # 快节奏
    4: "A",   # 好莱坞商业大片
    5: "A",   # 励志/积极
    7: "B",   # 实力派演员
    8: "A",   # 美国电影
    9: "B",   # 经典必看
    10: "C"   # 视觉特效震撼
}

# ========== 生成用户喜好标签 ==========
preferences = []
for q in questions:
    ans = user_answers[q["id"]]
    _, tags = q["options"][ans]
    preferences.extend(tags)

# ========== 生成提示词（Prompt） ==========
prompt = f"用户的电影偏好包括：{', '.join(preferences)}。请推荐符合这些特征的电影。"

print(prompt)
